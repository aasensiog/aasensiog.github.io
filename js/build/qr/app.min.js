function render_qr(){$("#qrcode").html("");var e=$("#sizeqr").val();$("#size_label").html(e),$("#qrcode").qrcode({width:e,height:e,text:$("#text").val()}),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"QR_SIZE_"+e.toString(),eventValue:1})}function download(e,n){var a,t=document.createElement("a");t.download=n,t.href=e.toDataURL("image/png;base64"),document.createEvent?((a=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(a)):t.fireEvent&&t.fireEvent("onclick")}function downloadCanvas(e){download($(e)[0].firstElementChild,"myimage.png")}$(document).ready(function(){$("#text").keyup(function(){render_qr()}),$("#text").keydown(function(){render_qr()}),$("#clean_text_btn").click(function(){$("#text").val(""),render_qr()}),$("#sizeqr").change(function(){render_qr()}),$("#download_qr").click(function(){downloadCanvas("#qrcode")}),$("#qr_container").click(function(){downloadCanvas("#qrcode")}),render_qr(),$("#barcode_input").keyup(function(){render_barcode()}),$("#barcode_input").keydown(function(){render_barcode()}),$("#barcode_textarea").change(function(){render_barcode()}),$("#barcode_textarea").keydown(function(){render_barcode()}),$("#barcode_textarea").keyup(function(){render_barcode()}),$("#barcodeType").change(function(){render_barcode()}),$("[data-role=redraw]").change(function(){render_barcode(),render_barcode()}),$(".text-align").click(function(){$(".text-align").removeClass("btn-info"),$(this).addClass("btn-info"),render_barcode()}),$(".font-option").click(function(){$(this).hasClass("btn-info")?$(this).removeClass("btn-info"):$(this).addClass("btn-info"),render_barcode()}),$(".display-text").click(function(){$(".display-text").removeClass("btn-info"),$(this).addClass("btn-info"),"true"==$(this).val()?$("#font-options").show():$("#font-options").hide(),render_barcode()}),$("#font").change(function(){$(this).css({"font-family":$(this).val()}),render_barcode()}),$("#barcode_container").click(function(){downloadCanvas("#barcode_container")}),$("#download_barcode").click(function(){downloadCanvas("#barcode_container")}),$("[name=gridRadios]").change(function(){"simple"===$("[name=gridRadios]:checked").val()?($("#barcode_textarea").attr("hidden","hidden"),$("#barcode_input").removeAttr("hidden")):($("#barcode_input").attr("hidden","hidden"),$("#barcode_textarea").removeAttr("hidden")),render_barcode()}),render_barcode(),new Clipboard(".copy",{text:function(e){return $(e.getAttribute("data-clipboard-target")).val()}}),$(".copy").click(function(){alerta_copiado()}),reload_tooltips()});var render_barcode=function(){"simple"===$("[name=gridRadios]:checked").val()?render_barcode_simple():render_barcode_multiple(),$("#bar-width-display").text($("#bar-width").val()),$("#bar-height-display").text($("#bar-height").val()),$("#bar-fontSize-display").text($("#bar-fontSize").val()),$("#bar-margin-display").text($("#bar-margin").val()),$("#bar-text-margin-display").text($("#bar-text-margin").val())},render_barcode_multiple=function(){$("#barcode_container").html("");var e=$("#barcode_textarea").val().split("\n"),r=$('<div class="row"></div>').appendTo("#barcode_container");$.each(e,function(e,n){var a;a=n.length<30?"col-lg-4":n.length<50?"col-lg-6":"col-lg-12";var t=$('<div class="'+a+' col-sm-12"></div>').appendTo(r),o=$("<canvas></canvas>");o.JsBarcode(n,{format:$("#barcodeType").val(),background:$("#background-color").val(),lineColor:$("#line-color").val(),fontSize:parseInt($("#bar-fontSize").val()),height:parseInt($("#bar-height").val()),width:parseInt($("#bar-width").val()),margin:parseInt($("#bar-margin").val()),textMargin:parseInt($("#bar-text-margin").val()),displayValue:"true"==$(".display-text.btn-info").val(),font:$("#font").val(),fontOptions:$(".font-option.btn-info").map(function(){return this.value}).get().join(" "),textAlign:$(".text-align.btn-info").val(),valid:function(e){e?($("#barcode_output").show(),$("#invalid").hide()):($("#barcode_output").hide(),$("#invalid").show())}}),o.appendTo(t)}),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"BARCODE_MULTIPLE",eventValue:1})},render_barcode_simple=function(){$("#barcode_container").html("");var e=$("<canvas></canvas>");e.JsBarcode($("#barcode_input").val(),{format:$("#barcodeType").val(),background:$("#background-color").val(),lineColor:$("#line-color").val(),fontSize:parseInt($("#bar-fontSize").val()),height:parseInt($("#bar-height").val()),width:$("#bar-width").val(),margin:parseInt($("#bar-margin").val()),textMargin:parseInt($("#bar-text-margin").val()),displayValue:"true"==$(".display-text.btn-info").val(),font:$("#font").val(),fontOptions:$(".font-option.btn-info").map(function(){return this.value}).get().join(" "),textAlign:$(".text-align.btn-info").val(),valid:function(e){e?($("#barcode_output").show(),$("#invalid").hide()):($("#barcode_output").hide(),$("#invalid").show())}}),e.appendTo("#barcode_container"),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"BARCODE_SIMPLE",eventValue:1})};