$(document).ready(function(){var t=[],e=[],i=[],c=[],n=function(n,a){$(n).html("");var o=a.slice().reverse();$.each(o,function(a,t){var e=t,i=("0"+(o.length-a)).slice(-2),c=e.replace(/\s+/g,"-").toLowerCase();$(n).append('<li class="albert_mini copy_html hand col-md-10" title="Copiar" data-clipboard-target="#li_'+c+'" data-toggle="tooltip">'+i+': <span id="li_'+c+'">'+e+"</span></li>"),reload_tooltips(),$(".copy_html").click(function(){alerta_copiado()}),$(".copy").click(function(){alerta_copiado()})})};$("#ccc").click(function(){$("#clean_historic_ccc").show();var a=genera_ccc();$("#result_ccc").html(IBAN.formatear(a)),$("#result_ccc_2").html(a.split("-").join("")),t.push(IBAN.formatear(a)),n("#historial_ccc",t),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"CCC",eventValue:1})}),$("#iban").click(function(){$("#clean_historic_iban").show();var a=genera_iban();$("#result_iban").html(IBAN.formatear(a)),$("#result_iban_2").html(a),e.push(IBAN.formatear(a)),n("#historial_iban",e),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"IBAN",eventValue:1})}),$("#tarjeta").click(function(){$("#clean_historic_tarjeta").show();var a=$("#tipo_tarjeta").val(),t=genera_tarjeta(a);$("#result_tarjeta").html(IBAN.formatear(t)),$("#result_tarjeta_2").html(t),$("#result_tarjeta_fecha").html(genera_tarjeta_fecha()),$("#result_tarjeta_cvc").html(genera_tarjeta_cvc()),c.push(IBAN.formatear(t)),n("#historial_tarjeta",c),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"TARJETA",eventValue:1})}),$("#iban_personalizado").click(function(){$("#iban_personalizado_error").text("");var a=$("#codigo_entidad").val();if(!a||4!=a.toString().length)return $("#iban_personalizado_error").text("* Formato inválido"),void $("#result_iban_personalizado_container").hide();$("#clean_historic_iban_personalizado").show();var t=genera_iban_personalizado(a);$("#result_iban_personalizado").html(IBAN.formatear(t)),$("#result_iban_personalizado_2").html(t),i.push(IBAN.formatear(t)),n("#historial_iban_personalizado",i),$("#result_iban_personalizado_container").show(),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"CUSTOM IBAN",eventValue:1})}),$("#mas_bancos").click(function(){var r="#codigos_bancarios_espanya";$(r).html(""),$(r).append('<tr><th>Entidad</th><th>CCC</th><th>CCC separador</th><th>IBAN</th><th>IBAN separador</th><th>SWIFT/BIC <i class="fas fa-certificate text-warning"></i></th></tr>'),$.each(principales_espanya.sort(),function(a,t){var e=t.codigo,i=genera_ccc_personalizado(t.codigo),c=IBAN.formatear(i,"-"),n=IBAN.convertir(i).split(" ").join(""),o=IBAN.convertir(i),l=calcula_bic_from_entity_code(n.substring(4,8));$(r).append("<tr><td>"+t.nombre+'</td><td><span class="albert_mini copy_html hand" title="Copiar" data-clipboard-target="#li_'+e+'" data-toggle="tooltip"><span id="li_'+e+'">'+i+'</span></span></td><td><span class="albert_mini copy_html hand" title="Copiar" data-clipboard-target="#li_'+e+'_con" data-toggle="tooltip"><span id="li_'+e+'_con">'+c+'</span></span></td><td><span class="albert_mini copy_html hand" title="Copiar" data-clipboard-target="#li_'+e+'_iban" data-toggle="tooltip"><span id="li_'+e+'_iban">'+n+'</span></span></td><td><span class="albert_mini copy_html hand" title="Copiar" data-clipboard-target="#li_'+e+'_iban_con" data-toggle="tooltip"><span id="li_'+e+'_iban_con">'+o+'</span></span></td><td><span class="albert_mini copy_html hand" title="Copiar" data-clipboard-target="#li_'+e+'_bic" data-toggle="tooltip"><span id="li_'+e+'_bic">'+l+"</span></span></td></tr>"),reload_tooltips(),$(".copy_html").click(function(){alerta_copiado()}),$(".copy").click(function(){alerta_copiado()})})}),$("#ccc").click(),$("#iban").click(),$("#tarjeta").click(),$("#mix_ccc").click(),$("#mas_bancos").click(),$("#result_iban_personalizado_container").hide(),$("#tipo_tarjeta").change(function(){$("#tarjeta").click()}),$("#clean_historic_ccc").click(function(){n("#historial_ccc",t=[]),$(this).hide()}),$("#clean_historic_iban").click(function(){n("#historial_iban",e=[]),$(this).hide()}),$("#clean_historic_iban_personalizado").click(function(){n("#historial_iban_personalizado",i=[]),$(this).hide()}),$("#clean_historic_tarjeta").click(function(){n("#historial_tarjeta",c=[]),$(this).hide()}),$("#iban_btn").click(function(){$("#iban_error").text("");var t=function(){$("#iban_error").text("* Formato inválido")},a=$("#calcula_iban").val();if(20==a.split("-").join("").split(" ").join("").length)try{var e=IBAN.calcular(a);$("#calcula_iban").val(IBAN.formatear(e)),$("#calcula_iban_2").val(e),ga("send",{hitType:"event",eventCategory:"click",eventAction:"CALCULATE",eventLabel:"IBAN",eventValue:1})}catch(a){t()}else t()}),$("#calc_dc_btn").click(function(){$("#calc_dc_error").text("");var a=$("#cod_banco").val();if(21==a.length){var t=a.substr(0,4)+a.substr(5,4)+calcula_dc(a.replace("-",""))+a.substr(11,10);$("#calcula_dc_con").val(IBAN.formatear(t)),$("#calcula_dc_sin").val(t),$("#cod_banco").val(IBAN.formatear(t)),ga("send",{hitType:"event",eventCategory:"click",eventAction:"CALCULATE",eventLabel:"CCC",eventValue:1})}else $("#calc_dc_error").text("* Formato inválido")}),new Clipboard(".copy",{text:function(a){return $(a.getAttribute("data-clipboard-target")).val()}}),new Clipboard(".copy_html",{text:function(a){return $(a.getAttribute("data-clipboard-target")).html()}}),$(".copy_html").click(function(){alerta_copiado()}),$(".copy").click(function(){alerta_copiado()}),$('[data-toggle="tooltip"]').tooltip(),$("#cod_banco").formatter({pattern:"{{9999}}-{{9999}}--{{9999999999}}"})});