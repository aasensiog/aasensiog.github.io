$(document).ready(function(){var t=[],c=[],i=[],e=function(n,a){$(n).html("");var l=a.slice().reverse();$.each(l,function(a,t){var c=t,i=("0"+(l.length-a)).slice(-2),e=c.replace(/\s+/g,"-").toLowerCase();$(n).append('<li class="albert_mini copy_html hand" title="Copiar" data-clipboard-target="#li_'+e+'" data-toggle="tooltip">'+i+': <span id="li_'+e+'">'+c+"</span></li>"),reload_tooltips(),$(".copy_html").click(function(){alerta_copiado()}),$(".copy").click(function(){alerta_copiado()})})};$("#ccc").click(function(){$("#clean_historic_ccc").show();var a=genera_ccc();$("#result_ccc").val(IBAN.formatear(a)),$("#result_ccc_2").val(a.split("-").join("")),t.push(IBAN.formatear(a)),e("#historial_ccc",t),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"CCC",eventValue:1})}),$("#iban").click(function(){$("#clean_historic_iban").show();var a=genera_iban();$("#result_iban").val(IBAN.formatear(a)),$("#result_iban_2").val(a),c.push(IBAN.formatear(a)),e("#historial_iban",c),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"IBAN",eventValue:1})}),$("#tarjeta").click(function(){$("#clean_historic_tarjeta").show();var a=$("#tipo_tarjeta").val(),t=genera_tarjeta(a);$("#result_tarjeta").val(IBAN.formatear(t)),i.push(IBAN.formatear(t)),e("#historial_tarjeta",i),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"TARJETA",eventValue:1})}),$("#mas_bancos").click(function(){var r="#codigos_bancarios_espanya";$(r).html(""),$(r).append('<tr><th>Entidad</th><th>CCC</th><th>CCC separador</th><th>IBAN</th><th>IBAN separador</th><th>SWIFT/BIC <i class="fas fa-certificate text-warning"></i></th></tr>'),$.each(principales_espanya.sort(),function(a,t){var c=t.codigo,i=genera_ccc_banco(t.codigo),e=IBAN.formatear(i,"-"),n=IBAN.convertir(i).split(" ").join(""),l=IBAN.convertir(i),o=principales_espanya_dict[i.substr(0,4)].bic+"ES"+random_value_from_array(["BB","MM","M1","2M","2B"])+numero_aleatorio_digitos(3);$(r).append("<tr><td>"+t.nombre+'</td><td><span class="albert_mini copy_html hand" title="Copiar" data-clipboard-target="#li_'+c+'" data-toggle="tooltip"><span id="li_'+c+'">'+i+'</span></span></td><td><span class="albert_mini copy_html hand" title="Copiar" data-clipboard-target="#li_'+c+'_con" data-toggle="tooltip"><span id="li_'+c+'_con">'+e+'</span></span></td><td><span class="albert_mini copy_html hand" title="Copiar" data-clipboard-target="#li_'+c+'_iban" data-toggle="tooltip"><span id="li_'+c+'_iban">'+n+'</span></span></td><td><span class="albert_mini copy_html hand" title="Copiar" data-clipboard-target="#li_'+c+'_iban_con" data-toggle="tooltip"><span id="li_'+c+'_iban_con">'+l+'</span></span></td><td><span class="albert_mini copy_html hand" title="Copiar" data-clipboard-target="#li_'+c+'_bic" data-toggle="tooltip"><span id="li_'+c+'_bic">'+o+"</span></span></td></tr>"),reload_tooltips(),$(".copy_html").click(function(){alerta_copiado()}),$(".copy").click(function(){alerta_copiado()})})}),$("#ccc").click(),$("#iban").click(),$("#tarjeta").click(),$("#mix_ccc").click(),$("#mas_bancos").click(),$("#tipo_tarjeta").change(function(){$("#tarjeta").click()}),$("#clean_historic_ccc").click(function(){e("#historial_ccc",t=[]),$(this).hide()}),$("#clean_historic_iban").click(function(){e("#historial_iban",c=[]),$(this).hide()}),$("#clean_historic_tarjeta").click(function(){e("#historial_tarjeta",i=[]),$(this).hide()}),$("#iban_btn").click(function(){$("#iban_error").text("");var t=function(){$("#iban_error").text("* Formato inválido")},a=$("#calcula_iban").val();if(20==a.split("-").join("").split(" ").join("").length)try{var c=IBAN.calcular(a);$("#calcula_iban").val(IBAN.formatear(c)),$("#calcula_iban_2").val(c),ga("send",{hitType:"event",eventCategory:"click",eventAction:"CALCULATE",eventLabel:"IBAN",eventValue:1})}catch(a){t()}else t()}),$("#calc_dc_btn").click(function(){$("#calc_dc_error").text("");var a=$("#cod_banco").val();if(21==a.length){var t=a.substr(0,4)+a.substr(5,4)+calcula_dc(a.replace("-",""))+a.substr(11,10);$("#calcula_dc_con").val(IBAN.formatear(t)),$("#calcula_dc_sin").val(t),$("#cod_banco").val(IBAN.formatear(t)),ga("send",{hitType:"event",eventCategory:"click",eventAction:"CALCULATE",eventLabel:"CCC",eventValue:1})}else $("#calc_dc_error").text("* Formato inválido")}),new Clipboard(".copy",{text:function(a){return $(a.getAttribute("data-clipboard-target")).val()}}),new Clipboard(".copy_html",{text:function(a){return $(a.getAttribute("data-clipboard-target")).html()}}),$(".copy_html").click(function(){alerta_copiado()}),$(".copy").click(function(){alerta_copiado()}),$('[data-toggle="tooltip"]').tooltip(),$("#cod_banco").formatter({pattern:"{{9999}}-{{9999}}--{{9999999999}}"})});