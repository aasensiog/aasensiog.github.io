$(document).ready(function(){var t=[],i=[],e=[],n=[];$("#ccc").click(function(){$("#clean_historic_ccc").show();var a=genera_ccc();$("#result_ccc").html(IBAN.formatear(a)),$("#result_ccc_2").html(a.split("-").join("")),t.push(IBAN.formatear(a)),draw_historic("#historial_ccc",t),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"CCC",eventValue:1})}),$("#iban").click(function(){$("#clean_historic_iban").show();var a=genera_iban();$("#result_iban").html(IBAN.formatear(a)),$("#result_iban_2").html(a),i.push(IBAN.formatear(a)),draw_historic("#historial_iban",i),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"IBAN",eventValue:1})}),$("#tarjeta").click(function(){$("#clean_historic_tarjeta").show();var a=$("#tipo_tarjeta").val(),t=genera_tarjeta(a);$("#result_tarjeta").html(IBAN.formatear(t)),$("#result_tarjeta_2").html(t),$("#result_tarjeta_fecha").html(genera_tarjeta_fecha()),$("#result_tarjeta_cvc").html(genera_tarjeta_cvc()),n.push(IBAN.formatear(t)),draw_historic("#historial_tarjeta",n),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"TARJETA",eventValue:1})}),$("#iban_personalizado").click(function(){$("#iban_personalizado_error").text("");var a=$("#codigo_entidad").val();if(!a||4!=a.toString().length)return $("#iban_personalizado_error").text("* Formato inválido"),void $("#result_iban_personalizado_container").hide();$("#clean_historic_iban_personalizado").show();var t=genera_iban_personalizado(a);$("#result_iban_personalizado").html(IBAN.formatear(t)),$("#result_iban_personalizado_2").html(t),e.push(IBAN.formatear(t)),draw_historic("#historial_iban_personalizado",e),$("#result_iban_personalizado_container").show(),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"CUSTOM IBAN",eventValue:1})}),$("#valida_iban_btn").click(function(){$("#valida_iban_error").text(""),$("#valida_iban_res").text(""),$("#valida_iban_res").removeClass("text-success"),$("#valida_iban_res").removeClass("text-danger");var a=$("#valida_iban").val();IBAN.validar(a)?($("#valida_iban_res").text("Válido!"),$("#valida_iban_res").addClass("text-success")):($("#valida_iban_res").text("No válido"),$("#valida_iban_res").addClass("text-danger"))}),$("#valida_iban").change(function(){clean()}),$("#valida_iban").keypress(function(a){13===a.which&&$("#valida_iban_btn").click()}),$("#mas_bancos").click(function(){var l="#codigos_bancarios_espanya";$(l).html(""),$(l).append('<tr><th>Entidad</th><th>CCC</th><th>CCC separador</th><th>IBAN</th><th>IBAN separador</th><th>SWIFT/BIC <i class="fas fa-certificate text-warning"></i></th></tr>'),$.each(principales_espanya.sort(),function(a,t){var i=t.codigo,e=genera_ccc_personalizado(t.codigo),n=IBAN.formatear(e,"-"),c=IBAN.convertir(e).split(" ").join(""),r=IBAN.convertir(e),o=calcula_bic_from_entity_code(c.substring(4,8));$(l).append("<tr><td>"+t.nombre+'</td><td><span class="albert_mini copy_html hand" title="Copiar" data-clipboard-target="#li_'+i+'" data-toggle="tooltip"><span id="li_'+i+'">'+e+'</span></span></td><td><span class="albert_mini copy_html hand" title="Copiar" data-clipboard-target="#li_'+i+'_con" data-toggle="tooltip"><span id="li_'+i+'_con">'+n+'</span></span></td><td><span class="albert_mini copy_html hand" title="Copiar" data-clipboard-target="#li_'+i+'_iban" data-toggle="tooltip"><span id="li_'+i+'_iban">'+c+'</span></span></td><td><span class="albert_mini copy_html hand" title="Copiar" data-clipboard-target="#li_'+i+'_iban_con" data-toggle="tooltip"><span id="li_'+i+'_iban_con">'+r+'</span></span></td><td><span class="albert_mini copy_html hand" title="Copiar" data-clipboard-target="#li_'+i+'_bic" data-toggle="tooltip"><span id="li_'+i+'_bic">'+o+"</span></span></td></tr>"),reload_tooltips(),$(".copy_html").click(function(){alerta_copiado()}),$(".copy").click(function(){alerta_copiado()})})}),$("#ccc").click(),$("#iban").click(),$("#tarjeta").click(),$("#mix_ccc").click(),$("#mas_bancos").click(),$("#result_iban_personalizado_container").hide(),$("#tipo_tarjeta").change(function(){$("#tarjeta").click()}),$("#clean_historic_ccc").click(function(){t=[],draw_historic("#historial_ccc",t),$(this).hide()}),$("#clean_historic_iban").click(function(){i=[],draw_historic("#historial_iban",i),$(this).hide()}),$("#clean_historic_iban_personalizado").click(function(){e=[],draw_historic("#historial_iban_personalizado",e),$(this).hide()}),$("#clean_historic_tarjeta").click(function(){n=[],draw_historic("#historial_tarjeta",n),$(this).hide()}),$("#iban_btn").click(function(){$("#iban_error").text("");var t=function(){$("#iban_error").text("* Formato inválido")},a=$("#calcula_iban").val();if(20==a.split("-").join("").split(" ").join("").length)try{var i=IBAN.calcular(a);$("#calcula_iban").val(IBAN.formatear(i)),$("#calcula_iban_2").val(i),ga("send",{hitType:"event",eventCategory:"click",eventAction:"CALCULATE",eventLabel:"IBAN",eventValue:1})}catch(a){t()}else t()}),$("#calc_dc_btn").click(function(){$("#calc_dc_error").text("");var a=$("#cod_banco").val();if(21==a.length){var t=a.substr(0,4)+a.substr(5,4)+calcula_dc(a.replace("-",""))+a.substr(11,10);$("#calcula_dc_con").val(IBAN.formatear(t)),$("#calcula_dc_sin").val(t),$("#cod_banco").val(IBAN.formatear(t)),ga("send",{hitType:"event",eventCategory:"click",eventAction:"CALCULATE",eventLabel:"CCC",eventValue:1})}else $("#calc_dc_error").text("* Formato inválido")}),new Clipboard(".copy",{text:function(a){return $(a.getAttribute("data-clipboard-target")).val()}}),new Clipboard(".copy_html",{text:function(a){return $(a.getAttribute("data-clipboard-target")).html()}}),$(".copy_html").click(function(){alerta_copiado()}),$(".copy").click(function(){alerta_copiado()}),$('[data-toggle="tooltip"]').tooltip(),$("#cod_banco").formatter({pattern:"{{9999}}-{{9999}}--{{9999999999}}"})});