$(document).ready(function(){var t=[],i=[],e=[],c=[],n=function(n,a){$(n).html("");var o=a.slice().reverse();$.each(o,function(a,t){var i=t,e=("0"+(o.length-a)).slice(-2),c=i.replace(/\s+/g,"-").toLowerCase();$(n).append('<li class="albert_mini copy_html hand" title="Copiar" data-clipboard-target="#li_'+c+'" data-toggle="tooltip">'+e+': <span id="li_'+c+'">'+i+"</span></li>"),reload_tooltips(),$(".copy_html").click(function(){alerta_copiado()}),$(".copy").click(function(){alerta_copiado()})})};$("#ccc").click(function(){$("#clean_historic_ccc").show();var a=genera_ccc();$("#result_ccc").val(IBAN.formatear(a)),$("#result_ccc_2").val(a.split("-").join("")),t.push(IBAN.formatear(a)),n("#historial_ccc",t),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"CCC",eventValue:1})}),$("#iban").click(function(){$("#clean_historic_iban").show();var a=genera_iban();$("#result_iban").val(IBAN.formatear(a)),$("#result_iban_2").val(a),i.push(IBAN.formatear(a)),n("#historial_iban",i),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"IBAN",eventValue:1})}),$("#tarjeta").click(function(){$("#clean_historic_tarjeta").show();var a=$("#tipo_tarjeta").val(),t=genera_tarjeta(a);$("#result_tarjeta").val(IBAN.formatear(t)),c.push(IBAN.formatear(t)),n("#historial_tarjeta",c),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"TARJETA",eventValue:1})}),$("#iban_personalizado").click(function(){$("#iban_personalizado_error").text("");var a=$("#codigo_entidad").val();if(a&&4==a.toString().length){$("#clean_historic_iban_personalizado").show();var t=genera_iban_personalizado(a);$("#result_iban_personalizado").val(IBAN.formatear(t)),$("#result_iban_personalizado_2").val(t),e.push(IBAN.formatear(t)),n("#historial_iban_personalizado",e),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"CUSTOM IBAN",eventValue:1})}else $("#iban_personalizado_error").text("* Formato inválido")}),$("#mas_bancos").click(function(){var r="#codigos_bancarios_espanya";$(r).html(""),$(r).append('<tr><th>Entidad</th><th>CCC</th><th>CCC separador</th><th>IBAN</th><th>IBAN separador</th><th>SWIFT/BIC <i class="fas fa-certificate text-warning"></i></th></tr>'),$.each(principales_espanya.sort(),function(a,t){var i=t.codigo,e=genera_ccc_personalizado(t.codigo),c=IBAN.formatear(e,"-"),n=IBAN.convertir(e).split(" ").join(""),o=IBAN.convertir(e),l=principales_espanya_dict[e.substr(0,4)].bic+"ES"+random_value_from_array(["BB","MM","M1","2M","2B"])+numero_aleatorio_digitos(3);$(r).append("<tr><td>"+t.nombre+'</td><td><span class="albert_mini copy_html hand" title="Copiar" data-clipboard-target="#li_'+i+'" data-toggle="tooltip"><span id="li_'+i+'">'+e+'</span></span></td><td><span class="albert_mini copy_html hand" title="Copiar" data-clipboard-target="#li_'+i+'_con" data-toggle="tooltip"><span id="li_'+i+'_con">'+c+'</span></span></td><td><span class="albert_mini copy_html hand" title="Copiar" data-clipboard-target="#li_'+i+'_iban" data-toggle="tooltip"><span id="li_'+i+'_iban">'+n+'</span></span></td><td><span class="albert_mini copy_html hand" title="Copiar" data-clipboard-target="#li_'+i+'_iban_con" data-toggle="tooltip"><span id="li_'+i+'_iban_con">'+o+'</span></span></td><td><span class="albert_mini copy_html hand" title="Copiar" data-clipboard-target="#li_'+i+'_bic" data-toggle="tooltip"><span id="li_'+i+'_bic">'+l+"</span></span></td></tr>"),reload_tooltips(),$(".copy_html").click(function(){alerta_copiado()}),$(".copy").click(function(){alerta_copiado()})})}),$("#ccc").click(),$("#iban").click(),$("#tarjeta").click(),$("#mix_ccc").click(),$("#mas_bancos").click(),$("#tipo_tarjeta").change(function(){$("#tarjeta").click()}),$("#clean_historic_ccc").click(function(){n("#historial_ccc",t=[]),$(this).hide()}),$("#clean_historic_iban").click(function(){n("#historial_iban",i=[]),$(this).hide()}),$("#clean_historic_iban_personalizado").click(function(){n("#historial_iban_personalizado",e=[]),$(this).hide()}),$("#clean_historic_tarjeta").click(function(){n("#historial_tarjeta",c=[]),$(this).hide()}),$("#iban_btn").click(function(){$("#iban_error").text("");var t=function(){$("#iban_error").text("* Formato inválido")},a=$("#calcula_iban").val();if(20==a.split("-").join("").split(" ").join("").length)try{var i=IBAN.calcular(a);$("#calcula_iban").val(IBAN.formatear(i)),$("#calcula_iban_2").val(i),ga("send",{hitType:"event",eventCategory:"click",eventAction:"CALCULATE",eventLabel:"IBAN",eventValue:1})}catch(a){t()}else t()}),$("#calc_dc_btn").click(function(){$("#calc_dc_error").text("");var a=$("#cod_banco").val();if(21==a.length){var t=a.substr(0,4)+a.substr(5,4)+calcula_dc(a.replace("-",""))+a.substr(11,10);$("#calcula_dc_con").val(IBAN.formatear(t)),$("#calcula_dc_sin").val(t),$("#cod_banco").val(IBAN.formatear(t)),ga("send",{hitType:"event",eventCategory:"click",eventAction:"CALCULATE",eventLabel:"CCC",eventValue:1})}else $("#calc_dc_error").text("* Formato inválido")}),new Clipboard(".copy",{text:function(a){return $(a.getAttribute("data-clipboard-target")).val()}}),new Clipboard(".copy_html",{text:function(a){return $(a.getAttribute("data-clipboard-target")).html()}}),$(".copy_html").click(function(){alerta_copiado()}),$(".copy").click(function(){alerta_copiado()}),$('[data-toggle="tooltip"]').tooltip(),$("#cod_banco").formatter({pattern:"{{9999}}-{{9999}}--{{9999999999}}"})});