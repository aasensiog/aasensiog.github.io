function calcula_dc(r){for(var a=new Array(1,2,4,8,5,10,9,7,3,6),n=0,e=0,t=0;t<=7;t++)n+=parseInt(r.charAt(t))*a[t+2];for(11==(n=11-n%11)?n=0:10==n&&(n=1),t=10;t<=19;t++)e+=parseInt(r.charAt(t))*a[t-10];return 11==(e=11-e%11)?e=0:10==e&&(e=1),n.toString()+e.toString()}function genera_ccc(){var r=random_value_from_array(bancos),a=numero_aleatorio_digitos(4),n=numero_aleatorio_digitos(10);return r+a+calcula_dc(r+a+"--"+n)+n}function genera_ccc_personalizado(r){var a=numero_aleatorio_digitos(4),n=numero_aleatorio_digitos(10);return r+a+calcula_dc(r+a+"--"+n)+n}function genera_iban(){return IBAN.convertir(genera_ccc()).split(" ").join("")}function genera_iban_personalizado(r){return IBAN.convertir(genera_ccc_personalizado(r)).split(" ").join("")}function genera_iban_para_bic(){return IBAN.convertir(genera_ccc_personalizado(random_value_from_array(Object.keys(principales_espanya_dict)))).split(" ").join("")}function genera_tarjeta(r){var a=numero_aleatorio_digitos(14),n=r||"4";return n+a+calcula_dc_tarjeta(n+a+"0").toString()}function calcula_dc_tarjeta(r){if(/[^0-9-\s]+/.test(r))return!1;for(var a=0,n=0,e=!1,t=(r=r.replace(/\D/g,"")).length-1;0<=t;t--){var o=r.charAt(t);n=parseInt(o,10);e&&9<(n*=2)&&(n-=9),a+=n,e=!e}return(10-a%10)%10}function genera_tarjeta_fecha(){return random_value_from_array(meses)+"/"+random_value_from_array(anyos_tarjeta)}function genera_tarjeta_cvc(){return pad(Math.floor(1e3*Math.random()).toString(),3)}function calcula_bic_from_entity_code(r){return principales_espanya_dict[r].bic+"ES"+random_value_from_array(["BB","MM","M1","2M","2B"])+numero_aleatorio_digitos(3)}