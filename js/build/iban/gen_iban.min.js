function calcula_dc(a){for(var r=new Array(1,2,4,8,5,10,9,7,3,6),t=0,n=0,e=0;e<=7;e++)t+=parseInt(a.charAt(e))*r[e+2];for(11==(t=11-t%11)?t=0:10==t&&(t=1),e=10;e<=19;e++)n+=parseInt(a.charAt(e))*r[e-10];return 11==(n=11-n%11)?n=0:10==n&&(n=1),t.toString()+n.toString()}function genera_ccc(){var a=random_value_from_array(bancos),r=pad(Math.floor(1e4*Math.random()).toString(),4),t=pad(Math.floor(1e10*Math.random()).toString(),10);return a+r+calcula_dc(a+r+"--"+t)+t}function genera_iban(){return IBAN.convertir(genera_ccc()).split(" ").join("")}function genera_tarjeta(a){var r=pad(Math.floor(1e14*Math.random()).toString(),14),t=a||"4";return t+r+calcula_dc_tarjeta(t+r+"0").toString()}function calcula_dc_tarjeta(a){if(/[^0-9-\s]+/.test(a))return!1;for(var r=0,t=0,n=!1,e=(a=a.replace(/\D/g,"")).length-1;0<=e;e--){var o=a.charAt(e);t=parseInt(o,10);n&&9<(t*=2)&&(t-=9),r+=t,n=!n}return(10-r%10)%10}function genera_ccc_banco(a){a=a;var r=pad(Math.floor(1e4*Math.random()).toString(),4),t=pad(Math.floor(1e10*Math.random()).toString(),10);return a+r+calcula_dc(a+r+"--"+t)+t}function genera_tarjeta_fecha(){return random_value_from_array(meses)+"/"+random_value_from_array(anyos_tarjeta)}function genera_tarjeta_cvc(){return pad(Math.floor(1e3*Math.random()).toString(),3)}