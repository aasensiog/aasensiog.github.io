var messages=["COPIADO!"],result=[],mapa={nif:genera_nif,nie:genera_nie,cif:genera_cif,matricula:genera_matricula,bastidor:genera_bastidor,ccc:genera_ccc,iban:genera_iban,tarjeta:genera_tarjeta,perfil_usuario:genera_perfil_usuario,perfil_empresa:genera_perfil_empresa},max_quantity=100;$(document).ready(function(){$("#result_div").hide(),$("#genera_masivo").click(function(){var e=$("#masivo_doc").val(),t=$("#masivo_quantity").val(),a=0;if(result=[],draw_result(null),e&&t){if(!mapa[e])return null;for(a=0;a<Math.min(t,max_quantity);a++)result.push(mapa[e]());draw_result(result),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"MASIVO_"+e.toUpperCase(),eventValue:t})}}),$("#masivo_download").click(function(){var e=$("#masivo_format").val(),t=$("#masivo_filename").val()||$("#masivo_doc").val()||"mifichero",a="";switch(e){case"txt":a="text/plain";break;case"csv":a="text/csv";break;case"json":a="text/json";break;default:a="text"}var n="",r=[];if("txt"==e||"csv"==e){for(var o=0;o<result.length;o++)r.push([result[o]]);for(o=0;o<r.length;o++){for(var i=r[o],l=0;l<i.length;l++){var c=(null===i[l]?"":i[l].toString()).replace(/"/g,'""');0<=c.search(/("|,|\n)/g)&&(c='"'+c+'"'),0<l&&(n+=","),n+=c}n+="\n"}}else"json"==e&&(n=JSON.stringify(result));download_complex(t+"."+e,n,a)}),$("#modal_masivo").on("shown.bs.modal",function(e){(adsbygoogle=window.adsbygoogle||[]).push({})}),new Clipboard(".copy",{text:function(e){return $(e.getAttribute("data-clipboard-target")).val()}}),new Clipboard(".copy_html",{text:function(e){return $(e.getAttribute("data-clipboard-target")).html()}}),$(".copy_html").click(function(){alerta_copiado()}),$(".copy").click(function(){alerta_copiado()}),$('[data-toggle="tooltip"]').tooltip()});var draw_result=function(e){var t=$("#masivo_result"),a=$("#masivo_format").val();if(e){$("#result_div").show();var n="txt"==a?"\n":",";t.html(e.join(n))}else t.html("")},download_complex=function(e,t,a){var n=document.createElement("a");n.setAttribute("href","data:"+a+";charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),ga("send",{hitType:"event",eventCategory:"click",eventAction:"DOWNLOAD",eventLabel:"DOWNLOAD_FILE"})};