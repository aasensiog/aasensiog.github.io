$(document).ready(function(){var draw_historic=function(n,i){$(n).html("");var o=i.slice().reverse();$.each(o,function(i,t){var a=t,e=("0"+(o.length-i)).slice(-2);$(n).append('<li class="albert_mini copy_html hand col-md-10" title="Copiar" data-clipboard-target="#li_'+a+'" data-toggle="tooltip">'+e+': <span id="li_'+a+'">'+a+"</span></li>"),reload_tooltips(),$(".copy_html").click(function(){alerta_copiado()}),$(".copy").click(function(){alerta_copiado()})})},nif_historic={},list_countries={de:"Alemania",at:"Austria",be:"Bélgica",bg:"Bulgaria",cy:"Chipre",dk:"Dinamarca",sk:"Eslovaquia",si:"Eslovenia",ee:"Estonia",fi:"Finlandia",gr:"Grecia",nl:"Holanda",hu:"Hungría",ie:"Irlanda",it:"Italia",lv:"Letonia",lt:"Lituania",lu:"Luxemburgo",mt:"Malta",pl:"Polonia",pt:"Portugal",gb:"Reino Unido",ro:"Rumanía",se:"Suecia"};$.get("templates/europeo_country.mst",function(template){var node=null,i=0;$.each(list_countries,function(key,item){var node=$("#res"),id=key;nif_historic[id]||(nif_historic[id]=[]);var rendered=Mustache.render(template,{prefix:id,name:item});node.append(rendered),$("#nif_"+id).click(function(){$("#clean_historic_nif_"+id).show(),$("#download_nif_"+id).show();var nif_id=eval("genera_nif_"+id+"()");$("#result_nif_"+id).html(nif_id),nif_historic[id].push(nif_id),draw_historic("#historial_nif_"+id,nif_historic[id]),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"NIF_"+id.toUpperCase(),eventValue:1})}),$("#nif_"+id).click(),$("#clean_historic_nif_"+id).click(function(){nif_historic[id]=[],draw_historic("#historial_nif_"+id,nif_historic[id]),$(this).hide(),$("#download_nif_"+id).hide()}),$("#download_nif_"+id).click(function(){var i=nif_historic[id].join("\r\n");download("lista_nifs.txt",i)}),i++})}),new Clipboard(".copy",{text:function(i){return $(i.getAttribute("data-clipboard-target")).val()}}),new Clipboard(".copy_html",{text:function(i){return $(i.getAttribute("data-clipboard-target")).html()}}),$(".copy_html").click(function(){alerta_copiado()}),$(".copy").click(function(){alerta_copiado()}),reload_tooltips(),$(".card-footer > .collapsador").click(function(){$(this).parent().parent().toggleClass("collapsed"),$(this).parent().parent().find(".list-group").slideToggle()}),$(".card-footer > .collapsador").click()});