var abc="ABCDEFGHIJKLMNOPQRSTUVWXYZ",cups_letters=Array("T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"),distribuidora_luz=["0023","0024","0029","0288","0363","0396","0031","0021","0022","0390","0397","0026","3140","3110","0033","0032","0177","0122","0113"],distribuidora_gas=["0230","0203","0218","0220","0221","0222","0223","0224","0226","0227","0208","0225","0205","0206","0229","0201","0229","0211","0234","0228"],calcula_dc_seguridad_social=function(a){if(9!=a.length&&10!=a.length)return None;0==a.substr(2,1)&&(a=a.substr(0,2)+a.substr(3,a.length-3));var r=parseInt(a)%97;return r<=9?"0"+r:9<r?r:void 0},genera_numero_seguridad_social=function(){var a=Object.keys(provincias),r=a[Math.floor(Math.random()*a.length)],t=Math.floor(1e8*Math.random());return r+pad(t.toString(),8)+calcula_dc_seguridad_social(r+pad(t.toString(),8))},genera_numero_pasaporte=function(){var a="";a+=abc.charAt(Math.floor(26*Math.random())),a+=abc.charAt(Math.floor(26*Math.random())),a+=abc.charAt(Math.floor(26*Math.random()));var r=Math.floor(1e6*Math.random());return a+pad(r.toString(),6)+abc.charAt(Math.floor(26*Math.random()))},genera_cups_luz=function(){var a="ES"+random_value_from_array(distribuidora_luz)+numero_aleatorio_digitos(12);return a+calcula_dc_cups(a.substring(2,16))},genera_cups_gas=function(){var a="ES"+random_value_from_array(distribuidora_gas)+numero_aleatorio_digitos(12);return a+calcula_dc_cups(a.substring(2,16))},calcula_dc_cups=function(a){var r=a%529,t=Math.floor(r/23),e=r%23;return cups_letters[t]+cups_letters[e]};function valida_cups(a){if(22<a.length)return{success:!1,code:1,msg:"Demasiado largo"};if(a.length<20)return{success:!1,code:2,msg:"Demasiado corto"};if(!a.match(/^ES[0-9]{16}[a-zA-Z]{2}[0-9]{0,1}[a-zA-Z]{0,1}$/))return{success:!1,code:3,msg:"Estructura no válida"};var r=parseInt(a.substr(2,16));return a.substr(18,2).toUpperCase()===calcula_dc_cups(r)?{success:!0}:{success:!1,code:4,msg:"Dígitos de control no válidos, se esperaba "+dc1+dc2}}var calcula_dc_referencia_catastral=function(a){var e=[13,15,12,5,4,17,9,21,3,7,1];if(null===a||18!==a.length)return-1;var r=((a=a.toUpperCase()).substring(0,7)+a.substring(14,18)).toUpperCase(),t=(a.substring(7,14)+a.substring(14,18)).toUpperCase(),o="";return[r,t].forEach(function(a){var t=0;a.split("").forEach(function(a,r){"A"<=(valorCaracter=a)&&a<="N"?valorCaracter=a.charCodeAt()-64:"Ñ"===a?valorCaracter=15:"N"<a&&(valorCaracter=a.charCodeAt()-63),t=(t+valorCaracter*e[r])%23}),o+="MQWERTYUIOPASDFGHJKLBZX".charAt(t)}),o},genera_referencia_catastral_urbana=function(){var a=numero_aleatorio_digitos(7)+(random_value_from_array(abc)+random_value_from_array(abc)+numero_aleatorio_digitos(4)+random_value_from_array(abc))+numero_aleatorio_digitos(4);return a+calcula_dc_referencia_catastral(a)},genera_referencia_catastral_rustica=function(){var a=random_value_from_array(municipios).id+random_value_from_array(abc)+numero_aleatorio_digitos(3)+numero_aleatorio_digitos(5)+numero_aleatorio_digitos(4);return a+calcula_dc_referencia_catastral(a)},genera_referencia_catastral=function(){return genera_referencia_catastral_urbana()},valida_referencia_catastral=function(a){return null!==a&&20===a.length&&a.substr(18,20)==calcula_dc_referencia_catastral(a.substr(0,18))};