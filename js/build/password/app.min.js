var password_scores=[];function genera_password(e,s,r,a,t){var o=e||10,c="abcdefghijklmnopqrstuvwxyz",n="ABCDEFGHIJKLMNOPQRSTUVWXYZ",i="0123456789",l="!@#$%^&*()_+~`|}{[]:;?><,./-=",p="",d="";if(0==e||1e3<e||!s&&!r&&!a&&!t)return null;for(;p.length<o;){var h=Math.ceil(c.length*Math.random()*Math.random()),u=Math.ceil(n.length*Math.random()*Math.random()),_=Math.ceil(i.length*Math.random()*Math.random()),g=Math.ceil(l.length*Math.random()*Math.random());s&&(d+=c.charAt(h)),r&&(d+=n.charAt(u)),a&&(d+=i.charAt(_)),t&&(d+=l.charAt(g)),p=d}return p.length>e&&(p=p.slice(0,e)),p}$(document).ready(function(){var o=[],c=function(o,e){$(o).html("");var c=e.slice().reverse();$.each(c,function(e,s){var r=s,a=("0"+(c.length-e)).slice(-2),t=checkPassword(r);$(o).append('<li class="albert copy hand" title="Copiar" data-clipboard-target="#li_'+a+'" data-toggle="tooltip" value="'+r+'"><small><i>'+a+':</i></small> <span id="li_'+a+'">'+r+'</span> <span class="text-muted pull-right">Longitud: '+r.length+'</span><div class="progress" title="'+title_from_score(t)+'" data-toggle="tooltip"><div class="progress-bar progress-bar-striped '+color_from_score(t)+'" role="progressbar" aria-valuenow="'+t+'" aria-valuemin="0" aria-valuemax="100" style="width: '+t+'%">'+t+" puntos</div></div></li>"),reload_tooltips(),$(".copy_html").click(function(){alerta_copiado()}),$(".copy").click(function(){alerta_copiado()})})};$("#password_6_btn").click(function(){var e=!!$("#lowercase").is(":checked"),s=!!$("#uppercase").is(":checked"),r=!!$("#numbers").is(":checked"),a=!!$("#special").is(":checked");$("#clean_historic_password").show();var t=genera_password(6,e,s,r,a);t?($("#generation_error").hide(),o.push(t),c("#historial_password",o)):$("#generation_error").show(),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"PASSWORD_6",eventValue:1})}),$("#password_8_btn").click(function(){var e=!!$("#lowercase").is(":checked"),s=!!$("#uppercase").is(":checked"),r=!!$("#numbers").is(":checked"),a=!!$("#special").is(":checked");$("#clean_historic_password").show();var t=genera_password(8,e,s,r,a);t?($("#generation_error").hide(),o.push(t),c("#historial_password",o)):$("#generation_error").show(),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"PASSWORD_8",eventValue:1})}),$("#password_custom_btn").click(function(){var e=!!$("#lowercase").is(":checked"),s=!!$("#uppercase").is(":checked"),r=!!$("#numbers").is(":checked"),a=!!$("#special").is(":checked");$("#clean_historic_password").show();var t=genera_password($("#custom_length").val(),e,s,r,a);t?($("#generation_error").hide(),o.push(t),c("#historial_password",o)):$("#generation_error").show(),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"PASSWORD_CUSTOM",eventValue:1})});for(var e=0;e<3;e++)$("#password_6_btn").click();$("#clean_historic_password").click(function(){c("#historial_password",o=[]),$(this).hide()}),$("#password_input").keyup(function(){var e=$(this).val(),s=$("#password_result"),r=$("#score_details");if(e){ga("send",{hitType:"event",eventCategory:"click",eventAction:"CALCULATE",eventLabel:"PASSWORD",eventValue:1});var a=checkPassword(e);s.html('<div class="progress" title="'+title_from_score(a)+'" data-toggle="tooltip"><div class="progress-bar progress-bar-striped '+color_from_score(a)+'" role="progressbar" aria-valuenow="'+a+'" aria-valuemin="0" aria-valuemax="100" style="width: '+a+'%">'+a+" puntos</div></div>");var t="";r.html(""),$.each(password_scores,function(e,s){t+='<li class="list-group-item">'+s+"</li>"}),r.html(t)}else s.html("<p>Sin resultados</p>"),r.html("");$('[data-toggle="tooltip"]').tooltip()}),$("#lowercase_span").click(function(){$("#lowercase").prop("checked",!$("#lowercase").is(":checked"))}),$("#uppercase_span").click(function(){$("#uppercase").prop("checked",!$("#uppercase").is(":checked"))}),$("#numbers_span").click(function(){$("#numbers").prop("checked",!$("#numbers").is(":checked"))}),$("#special_span").click(function(){$("#special").prop("checked",!$("#special").is(":checked"))}),$("#generation_error").hide(),new Clipboard(".copy",{text:function(e){return $(e.getAttribute("data-clipboard-target")).val()}}),new Clipboard(".copy_html",{text:function(e){return $(e.getAttribute("data-clipboard-target")).html()}}),$(".copy_html").click(function(){alerta_copiado()}),$(".copy").click(function(){alerta_copiado()}),$('[data-toggle="tooltip"]').tooltip()});var m_strUpperCase="ABCDEFGHIJKLMNOPQRSTUVWXYZ",m_strLowerCase="abcdefghijklmnopqrstuvwxyz",m_strNumber="0123456789",m_strCharacters="!@#$%^&*()_+~`|}{[]:;?><,./-=";function countContain(e,s){for(var r=0,a=0;a<e.length;a++)-1<s.indexOf(e.charAt(a))&&r++;return r}function checkPassword(e){password_scores=[];var s=0;e.length<5?(s+=5,password_scores.push("+5: Longitud menor a 5 caracteres")):4<e.length&&e.length<8?(s+=10,password_scores.push("+10: Longitud entre 5 y 7 caracteres")):7<e.length&&(s+=25,password_scores.push("+25: Longitud mayor a 7 caracteres"));var r=countContain(e,m_strUpperCase),a=countContain(e,m_strLowerCase),t=r+a;0==r&&0!=a?(s+=10,password_scores.push("+10: Solo minúsculas")):0!=r&&0!=a&&(s+=20,password_scores.push("+20: Combinación de mayúsculas y minúsculas"));var o=countContain(e,m_strNumber);0<o&&o<3&&(s+=10,password_scores.push("+10: Contiene 1 número")),3<=o&&(s+=20,password_scores.push("+20: Contiene más de 2 números"));var c=countContain(e,m_strCharacters);return 1==c&&(s+=10,password_scores.push("+10: Contiene 1 caracter especial")),1<c&&(s+=25,password_scores.push("+25: Contiene más de 1 caracter especial")),0!=o&&0!=t&&(s+=2,password_scores.push("+2: Combina letras y números")),0!=o&&0!=t&&0!=c&&(s+=3,password_scores.push("+3: Combina letras, números y caracteres especiales")),0!=o&&0!=r&&0!=a&&0!=c&&(s+=5,password_scores.push("+5: Combina letras mayúsculas y minúsculas, números y caracteres especiales")),s}function title_from_score(e){return 90<=e?"Muy segura":80<=e?"Segura":70<=e?"Muy fuerte":60<=e?"Fuerte":50<=e?"Media":25<=e?"Débil":0<=e?"Muy débil":void 0}function color_from_score(e){return 90<=e?"bg-success":80<=e?"bg-success":70<=e?"bg-info":60<=e?"bg-info":50<=e?"bg-warning":25<=e?"bg-danger":0<=e?"bg-danger":void 0}