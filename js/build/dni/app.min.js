var messages=["COPIADO!"];$(document).ready(function(){var a=function(){$("#valida_error").text(""),$("#valida_res").text(""),$("#valida_res").removeClass("text-success"),$("#valida_res").removeClass("text-danger")},t=[],c=[],n=[],e=function(e,i){$(e).html("");var o=i.slice().reverse();$.each(o,function(i,t){var c=t,n=("0"+(o.length-i)).slice(-2);$(e).append('<li class="albert_mini copy_html hand col-md-10" title="Copiar" data-clipboard-target="#li_'+c+'" data-toggle="tooltip">'+n+': <span id="li_'+c+'">'+c+"</span></li>"),reload_tooltips(),$(".copy_html").click(function(){alerta_copiado()}),$(".copy").click(function(){alerta_copiado()})})};$("#nif").click(function(){$("#clean_historic_nif").show(),$("#download_nif").show();var i=genera_nif();$("#result_nif").html(i),t.push(i),e("#historial_nif",t),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"NIF",eventValue:1})}),$("#nie").click(function(){$("#clean_historic_nie").show(),$("#download_nie").show();var i=genera_nie();$("#result_nie").html(i),c.push(i),e("#historial_nie",c),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"NIE",eventValue:1})}),$("#cif").click(function(){$("#clean_historic_cif").show(),$("#download_cif").show();var i=genera_cif();$("#result_cif").html(i),n.push(i),e("#historial_cif",n),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"CIF",eventValue:1})}),$("#custom_cif").click(function(){var i=$("#cif_organismo").val(),t=genera_custom_cif(i);$("#result_custom_cif").html(t),ga("send",{hitType:"event",eventCategory:"click",eventAction:"GENERATE",eventLabel:"CUSTOM CIF",eventValue:1})}),$("#nif").click(),$("#nie").click(),$("#cif").click(),$("#custom_cif").click(),$("#cif_organismo").change(function(){$("#custom_cif").click()}),$("#clean_historic_nif").click(function(){e("#historial_nif",t=[]),$(this).hide(),$("#download_nif").hide()}),$("#clean_historic_nie").click(function(){e("#historial_nie",c=[]),$(this).hide(),$("#download_nie").hide()}),$("#clean_historic_cif").click(function(){e("#historial_cif",n=[]),$(this).hide(),$("#download_cif").hide()}),$("#download_nif").click(function(){var i=t.join("\r\n");download("lista_nifs.txt",i)}),$("#download_nie").click(function(){var i=c.join("\r\n");download("lista_nies.txt",i)}),$("#download_cif").click(function(){var i=n.join("\r\n");download("lista_cifs.txt",i)}),$("#cifra_control_btn").click(function(){$("#cifra_control_error").text("");var t=function(){$("#cifra_control_error").text("* Formato inválido")},i=$("#cifra_control").val();if(8==i.length)try{var c=calcula_control_nifnie(i);c?$("#cifra_control").val(i+c):t()}catch(i){t()}else t()}),$("#cifra_control_cif_btn").click(function(){$("#cifra_control_cif_error").text("");var t=function(){$("#cifra_control_cif_error").text("* Formato inválido")},i=$("#cifra_control_cif").val();if(8==i.length)try{$("#cifra_control_cif").val(i+calcula_control_cif(i))}catch(i){t()}else t()}),$("#cifra_control").keypress(function(i){13===i.which&&$("#cifra_control_btn").click()}),$("#cifra_control_cif").keypress(function(i){13===i.which&&$("#cifra_control_cif_btn").click()}),$("#valida_btn").click(function(){var i=function(i){$("#valida_error").text(i||"* Formato inválido")};a();var t=$("#valida").val();if(9==t.length){var c=t.substr(t.length-1,t.length),n=calcula_control_nifnie(t),e=calcula_control_cif(t.substr(0,t.length-1)),o=n||e;o?o.toString().toUpperCase()===c.toString().toUpperCase()?($("#valida_res").text("Válido!"),$("#valida_res").addClass("text-success")):($("#valida_res").text("No válido"),$("#valida_res").addClass("text-danger")):i("No se ha podido calcular")}else i(null)}),$("#valida").change(function(){a()}),$("#valida").keypress(function(i){13===i.which&&$("#valida_btn").click()}),new Clipboard(".copy",{text:function(i){return $(i.getAttribute("data-clipboard-target")).val()}}),new Clipboard(".copy_html",{text:function(i){return $(i.getAttribute("data-clipboard-target")).html()}}),$(".copy_html").click(function(){alerta_copiado()}),$(".copy").click(function(){alerta_copiado()}),$('[data-toggle="tooltip"]').tooltip()});